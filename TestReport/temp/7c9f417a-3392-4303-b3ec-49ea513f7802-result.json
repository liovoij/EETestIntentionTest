{"start": 1614234067040, "historyId": "6a4a6c04e366cfbbffe55f69a12fdf83", "fullName": "TestCase.intention_test.TestIntention#test_attendance_outside_sign_in", "attachments": [{"source": "e6146170-6584-49d1-9e59-fae47c1793d2-attachment.json", "type": "application/json", "name": "返回内容"}], "status": "failed", "statusDetails": {"trace": "self = <intention_test.TestIntention object at 0x000001B55C4BB390>\ncircle = {'text': '帮我签个外勤卡'}\n\n    @allure.story('考勤管理>打卡>外勤签到')\n    @pytest.mark.parametrize('circle', attendance_outside_sign_in)\n    def test_attendance_outside_sign_in(self, circle):\n        # 请求接口并获取返回的data\n        request = request_get_ceshi(circle['text'])\n        response = json.loads(request['data'])\n        # 接口返回的值\n        response_title = response['intentInfo']['title']\n        response_name = response['intentInfo']['name']\n        response_text = response['text']\n        response_userId = response['userId']\n        response_status = response['status']\n        response_action = response['invoker']['action']\n        # 期待的结果\n        except_title = '外勤签到'\n        except_name = 'attendance.outside_sign_in'\n        except_text = circle['text']\n        except_userId = '11634'\n        except_status = 'FINISH'\n        except_action = 'redirect:https://www.e-cology.com.cn/spa/hrm/static4mobile/index.html#/outSign?moduleid' \\\n                        '=799174578 '\n        # 添加至allure\n        allure.attach(str(request), '返回内容', allure.attachment_type.JSON)\n        # 断言\n        assert response_title == except_title, \"意图title不同，期望：%s，实际：%s\" % (except_title, response_title)\n        assert response_name == except_name, \"意图name不同，期望：%s，实际：%s\" % (except_name, response_name)\n        assert response_text == except_text, \"语音纠错前后不同，期望：%s，实际：%s\" % (except_text, response_text)\n        assert response_userId == except_userId, \"发送请求者的userId不同，期望：%s，实际：%s\" % (except_userId, response_userId)\n        assert response_status == except_status, \"意图动作不同，期望：%s，实际：%s\" % (except_status, response_status)\n>       assert response_action == except_action, \"URL不同，期望：%s，实际：%s\" % (except_action, response_action)\nE       AssertionError: URL不同，期望：redirect:https://www.e-cology.com.cn/spa/hrm/static4mobile/index.html#/outSign?moduleid=799174578 ，实际：redirect:https://www.e-cology.com.cn/spa/hrm/static4mobile/index.html#/outSign?moduleid=799174578\nE       assert 'redirect:htt...eid=799174578' == 'redirect:htt...id=799174578 '\nE         Skipping 86 identical leading characters in diff, use -v to show\nE         - d=799174578\nE         + d=799174578 \nE         ?            +\n\nTestCase\\intention_test.py:102: AssertionError", "message": "AssertionError: URL不同，期望：redirect:https://www.e-cology.com.cn/spa/hrm/static4mobile/index.html#/outSign?moduleid=799174578 ，实际：redirect:https://www.e-cology.com.cn/spa/hrm/static4mobile/index.html#/outSign?moduleid=799174578\nassert 'redirect:htt...eid=799174578' == 'redirect:htt...id=799174578 '\n  Skipping 86 identical leading characters in diff, use -v to show\n  - d=799174578\n  + d=799174578 \n  ?            +"}, "uuid": "2b6f602e-afa4-48f9-b1b1-7752f1bf8b9a", "name": "test_attendance_outside_sign_in[circle1]", "labels": [{"value": "考勤管理", "name": "feature"}, {"value": "考勤管理>打卡>外勤签到", "name": "story"}, {"value": "泛微小e意图识别", "name": "epic"}, {"value": "TestCase", "name": "parentSuite"}, {"value": "intention_test", "name": "suite"}, {"value": "TestIntention", "name": "subSuite"}, {"value": "DESKTOP-NTA3Ax4", "name": "host"}, {"value": "21452-MainThread", "name": "thread"}, {"value": "pytest", "name": "framework"}, {"value": "cpython3", "name": "language"}, {"value": "TestCase.intention_test", "name": "package"}], "stop": 1614234068478, "testCaseId": "17ca1a72459dad0b229994eb07805ef5", "parameters": [{"value": "{'text': '帮我签个外勤卡'}", "name": "circle"}]}